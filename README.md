
# 文件整理工具用户协议及使用教程

## 一、文件整理工具安装同意书

### 许可协议
1. **授权内容**  
开发者授予您在单个设备上安装和使用本软件的非独占、不可转让的许可。您可在遵守本协议的前提下，将软件用于个人或商业用途。

2. **限制条款**  
- 禁止对软件进行反向工程、反编译、反汇编或试图获取源代码（除非法律明确允许）。  
- 禁止删除、修改或隐藏软件中的任何版权声明、商标或其他所有权标识。  
- 禁止将软件进行再分发、出租、租赁或商业化许可。

### 用户责任
1. **合规使用**  
您需确保使用本软件的行为符合所有适用的法律法规，不得利用本软件从事任何非法活动或侵犯他人权益。

2. **数据备份**  
本软件涉及文件移动操作，您需在使用前自行备份重要数据。因使用本软件导致的数据丢失或损坏，开发者不承担直接或间接责任。

3. **环境配置**  
您需自行确保设备满足软件运行的系统要求（如Python 3.9+、依赖库安装等），并承担因环境配置问题导致的使用风险。

### 免责声明
1. **软件性质**  
本软件按“原样”提供，不提供任何形式的明示或暗示担保，包括但不限于适销性、特定用途适用性或非侵权担保。

2. **责任限制**  
在任何情况下，开发者不对因使用或无法使用本软件导致的直接、间接、偶然、特殊或后果性损害（包括但不限于数据丢失、业务中断等）承担责任，即使开发者已被告知此类损害的可能性。

### 终止条款
1. **协议终止**  
若您违反本协议的任何条款，开发者有权随时终止您的使用许可。终止后，您需立即删除软件及其所有副本。

### 其他条款
1. **法律适用**  
本协议受中华人民共和国法律管辖，若发生争议，双方应通过友好协商解决。

2. **条款修改**  
开发者有权随时修改本协议内容，修改后的协议将在官方渠道公布。若您继续使用软件，视为接受修改后的条款。

### 用户确认
请在安装前确认：  
- 已阅读并理解本协议的所有条款；  
- 同意遵守本协议的全部约定；  
- 确认已备份重要数据，了解软件操作可能存在的风险。

安装或使用本软件即表示您同意上述所有条款。

### 开发者联系信息  
邮箱：1592243587@qq.com  
官网：zhmetosr.cn  
开发者：周孟桐  
wechat：zhmetosr_NULLFRONT  


## 二、文件整理工具使用帮助

### 一、工具简介
文件整理工具用于自动分类指定目录中的文件，支持按文件类型（图片、文档、音频等）创建分类目录，并将文件移动到对应的目录中。同时提供实时监控功能，自动整理新创建的文件。

### 二、主要功能
1. **文件分类整理**  
   - 支持常见文件类型（图片、文档、音频、视频、压缩包、程序）的自动分类  
   - 自定义文件类型分类规则（通过修改代码中的`FILE_TYPES`字典）  
   - 处理文件名冲突（自动添加时间戳重命名）  

2. **实时监控功能**  
   - 监听目录内的文件创建事件  
   - 新文件自动按类型整理到对应目录  

### 三、使用前提
1. **环境要求**  
   - Python 3.9+  
   - 安装依赖库：watchdog（用于文件监控）  
     安装命令：`pip install watchdog`  

2. **文件准备**  
   - 主程序文件：`file_organizer.py`  
   - 配置文件：无（直接修改代码中的`FILE_TYPES`字典）  
   - 日志文件：`file_organizer.log`（自动生成）  

### 四、操作指南
1. **手动整理文件**  
   **步骤1：运行程序**  
   ```bash
   python file_organizer.py
   ```  
   **步骤2：交互操作**  
   1. 输入需要整理的目录路径（支持绝对路径或相对路径）  
      示例提示：`请输入要整理的目录路径: /Users/yourname/Downloads`  
   2. 确认整理操作  
      示例提示：`即将整理目录: /Users/yourname/Downloads  确认开始整理? (y/n): y`  
   3. 完成整理后选择是否开启监控  
      示例提示：`文件整理完成!  是否要监视此目录的文件变动? (y/n): y`  

2. **命令行参数模式**  
   格式：`python file_organizer.py [选项]`  
   **选项说明**：  
   - `--source <路径>`：必选，指定需要整理的目录（示例：`--source ~/Documents`）  
   - `--watch`：可选，整理后启动目录监控（示例：`--source ./files --watch`）  

3. **监控模式**  
   - 启动方式：手动整理后选择开启，或通过`--watch`参数启动  
   - 停止监控：在运行窗口中按`Ctrl+C`  
   - 监控范围：仅监控目录内的新创建文件（不监控修改或删除事件）  

### 五、自定义配置
1. **修改文件分类规则**  
   打开`file_organizer.py`，找到`FILE_TYPES`字典：  
   ```python
   FILE_TYPES = {
       '图片': ['.jpg', '.jpeg', '.png'],  # 现有分类
       '自定义分类': ['.md', '.txt']  # 添加新分类
   }
   ```  
   - 支持添加新分类或修改现有扩展名列表  
   - 扩展名需包含小数点（如`.pdf`），不区分大小写（代码内部自动转小写）  

2. **调整日志配置**  
   修改`logging.basicConfig`参数（位于`file_organizer.py`开头）：  
   ```python
   logging.basicConfig(
       filename='file_organizer.log',  # 日志文件路径（默认当前目录）
       level=logging.INFO,  # 日志级别（DEBUG/INFO/WARNING/ERROR）
       format='%(asctime)s - %(levelname)s - %(message)s'  # 日志格式
   )
   ```  

### 六、日志说明
日志文件记录关键操作和异常信息，路径为程序运行目录下的`file_organizer.log`，常见日志类型：  
- **INFO**：正常操作记录（目录创建、文件移动、重命名等）  
- **WARNING**：文件冲突、非文件事件忽略等  
- **ERROR**：目录不存在、权限错误、未知异常等  

### 七、图形界面版本使用说明（Windows专用）
1. **运行步骤**  
   1. 打开软件包中的`dist`文件夹  
   2. 双击`zhmetosr.exe`文件启动图形界面版本  
   3. 在弹出的窗口中点击「浏览」选择目录，点击「开始整理」  

2. **系统要求**  
   - 操作系统：Windows 7及以上（32位/64位）  
   - 运行环境：  
     - 缺少运行时库时需安装[Visual C++ Redistributable for Visual Studio 2015-2022](https://support.microsoft.com/zh-cn/topic/%E4%B8%8B%E8%BD%BD-and-install-the-visual-c-redistributable-package-for-visual-studio-2015-2022-10cc8a3b-0044-2964-87a0-95576c96218f)  
     - 调试源码需安装Python 3.9+及依赖库watchdog  

3. **界面功能说明**  
   - 目录选择：通过「浏览」按钮指定目标目录  
   - 监控模式：勾选「启用实时监控」开启持续监听  
   - 日志查看：点击「查看日志」打开`file_organizer.log`  

### 八、常见问题排查
1. **程序无法启动**  
   - 确认运行的是`dist/gui.exe`，而非源码文件  
   - 尝试右键选择「以管理员身份运行」  
   - 仅支持Windows系统，macOS/Linux请使用命令行版本  

2. **分类规则不生效**  
   - 检查扩展名是否包含小数点（如`.txt`而非`txt`）  
   - 源码版本修改`FILE_TYPES`后需重新运行程序  
   - GUI版本暂不支持实时修改规则，需通过源码调整后重新打包  

### 九、注意事项
1. **数据备份**：操作前务必备份重要文件，避免误操作导致数据丢失  
2. **目录权限**：确保目标目录有读写权限  
3. **监控限制**：仅监控当前目录层级的新文件，不递归子目录  
4. **GUI限制**：图形界面仅支持Windows，命令行版本可跨平台使用  
5. **资源占用**：监控模式可能轻微占用系统资源，建议按需启用  

### 十、问题反馈
如需帮助或报告问题，请提供以下信息：  
- 操作系统版本（如Windows 10 64位）  
- 完整日志内容（`file_organizer.log`）  
- 操作步骤及错误提示截图
